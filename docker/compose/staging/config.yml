# NOTE: The following folder structure is assumed:
# local /data corresponds to hosts corpus version 1.4.1 and metadata version 1.1.3
# data
# ├── metadata
# │    ├── 1.1.3
# │    │   ├── chair_mp.csv
# │    │   ├── ...
# │    │   ├── metadata_version
# │    │   └── version
# │    └── riksprot_metadata.v1.1.3.db
# └── v1.4.1
#      ├── cwb
#      │   ├── lemma.corpus.cnt
#      │   └── ...
#      ├── config
#      │   ├── config.yml  <-- THIS FILE
#      ├── dehyphen
#      │   └── word-frequencies.pkl
#      ├── dehyphen_datadir -> /data/swedeb/v1.4.1/dehyphen
#      ├── dtm
#      │   ├── lemma
#      │   └── text
#      ├── rikdsdagen-records
#      │   ├── 1867
#      │   ├── ....
#      │   ├── 202223
#      │   ├── prot-ak.xml
#      │   ├── prot-ek.xml
#      │   └── prot-fk.xml
#      ├── registry
#      │   └── riksprot_corpus
#      ├── speeches
#      │   ├── tagged_frames_speeches_lemma.feather
#      │   ├── tagged_frames_speeches_text.feather
#      │   ├── text_speeches_base.zip
#      │   └── text_speeches_dedent_dehyphen.zip
#      ├── tagged_frames
#      │   ├── 1867
#      │   ├── ...
#      │   ├── 202223
#      │   ├── tag_config.yml
#      │   └── version
#      └── vrt
#          ├── 1867.vrt.gz
#          ├── ...
#          └── 202223.vrt.gz
# Note! Mount /data/v1.4.1 into the container as :/data to make this work

metadata:
  version: v1.1.3
  filename: /data/riksprot_metadata.v1.1.3.db
  github:
    user: swerik-project
    repository: riksdagen-persons
    path: data

corpus:
  version: v1.4.1
  github:
    user: swerik-project
    repository: riksdagen-records
    path: data

cwb:
  registry_dir: /data/registry
  corpus_name: RIKSPROT_CORPUS

dtm:
  folder: /data/dtm/text
  tag: text

vrt:
  folder: /data/tagged_frames
  tag: text

fastapi:
  origins:
    - http://localhost:8080
    - http://localhost:9002

pdf_server:
  base_url: "https://pdf.swedeb.se/riksdagen-records-pdf/"

mappings:

  tables:
    chamber: "chamber_id"
    gender: "gender_id"
    government: "government_id"
    office_type: "office_type_id"
    party: "party_id"
    sub_office_type: "sub_office_type_id"

    persons_of_interest: "person_id"
    person_party: "person_party_id"


  codecs:
    - table: "gender"
      type: "decode"
      from_column: "gender_id"
      to_column: "gender"
    - table: "gender"
      type: "decode"
      from_column: "gender_id"
      to_column: "gender_abbrev"
    - table: "office_type"
      type: "decode"
      from_column: "office_type_id"
      to_column: "office"
    - table: "party"
      type: "decode"
      from_column: "party_id"
      to_column: "party"
    - table: "party"
      type: "decode"
      from_column: "party_id"
      to_column: "party_abbrev"
    - table: "chamber"
      type: "decode"
      from_column: "chamber_id"
      to_column: "chamber"
    - table: "chamber"
      type: "decode"
      from_column: "chamber_id"
      to_column: "chamber_abbrev"
    - table: "sub_office_type"
      type: "decode"
      from_column: "sub_office_type_id"
      to_column: "sub_office_type"

    - table: "persons_of_interest"
      type: "decode"
      from_column: "person_id"
      to_column: "name"
    - table: "persons_of_interest"
      type: "decode"
      from_column: "person_id"
      to_column: "wiki_id"
    - table: "persons_of_interest"
      type: "decode"
      from_column: "person_id"
      to_column: "pid"
    - table: "persons_of_interest"
      type: "decode"
      from_column: "pid"
      to_column: "name"

    - table: "gender"
      type: "encode"
      from_column: "gender"
      to_column: "gender_id"
    - table: "gender"
      type: "encode"
      from_column: "gender_abbrev"
      to_column: "gender_id"
    - table: "sub_office_type"
      type: "encode"
      from_column: "sub_office_type"
      to_column: "sub_office_type_id"

  property_values_specs:
    - text_name: "gender"
      id_name: "gender_id"
    - text_name: "office"
      id_name: "office_type_id"
    - text_name: "party_abbrev"
      id_name: "party_id"
    - text_name: "party"
      id_name: "party_id"
    - text_name: "chamber_abbrev"
      id_name: "chamber_id"
    - text_name: "sub_office_type"
      id_name: "sub_office_type_id"
    - text_name: "name"
      id_name: "pid"


display:
  speech_index:
    updates:
      party_abbrev: {
        "?": "metadata saknas",
        "X": "partilös"
      }
      name: { "": "metadata saknas" }

  labels:
    speaker:
      unknown: Okänd

  headers:
    translations: {
      " man": " Män",
      "woman": "Kvinnor",
      "unknown": "Okänt"
    }
